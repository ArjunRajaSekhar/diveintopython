
<!DOCTYPE html>
<!--[if IE 9]><html class="lt-ie10" lang="en" > <![endif]-->
<html class="no-js" lang="en" >
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Chapter 4. The Power Of Introspection</title>
        <link rev="made" href="josh@servercobra.com" />
        <meta name="generator" content="convert_to_jinja2.py" />
        <meta name="keywords" content="Python, Dive Into Python, tutorial, object-oriented, programming, documentation, book, free" />
        <meta name="description" content="Python from novice to pro" />
        <link rel="home" href="http://www.diveintopython.net/" title="Dive Into Python" />
        
        <link rel="up" href="../toc/index.html" title=" Dive Into Python" />
        
        
        
        <link rel="next" href="optional_arguments.html" title=" 4.2.Using Optional and Named Arguments" />
        
         <link rel="stylesheet" href="../css/normalize.css">
         <link rel="stylesheet" href="../css/foundation.css">
         <link rel="stylesheet" href="../css/diveintopython.css" type="text/css" />


         <script src="../js/modernizr.js"></script>
    </head>
    <body>
        <div class="row">
            <div class="small-12 columns" id="Header">
                <div class="row">
                    <div class="small-11 columns">
                        
                        <td align="left" colspan="5" id="breadcrumb" valign="top">You are here: <a href="../index.html">Home</a>&#160;&gt;&#160;<a href="../toc/index.html">Dive Into Python</a>&#160;&gt;&#160;<span class="thispage">The Power Of Introspection</span></td>
                        
                    </div>
                    <div class="small-1 columns">
                        
                        <td align="right" id="navigation" valign="top">&#160;&#160;&#160;<a href="../native_data_types/summary.html" title="Prev: &#8220;Summary&#8221;">&lt;&lt;</a>&#160;&#160;&#160;<a href="optional_arguments.html" title="Next: &#8220;Using Optional and Named Arguments&#8221;">&gt;&gt;</a></td>
                        
                    </div>
                </div>


                <div id="logocontainer">
                    <h1 id="logo"><a href="http://www.diveintopython.net/index.html" accesskey="1">Dive Into Python</a></h1>
                    <p id="tagline">Python from novice to pro</p>
                    <a href="http://www.amazon.com/gp/product/B001GIOFN8/ref=as_li_tf_tl?ie=UTF8&tag=diveintopython-20&linkCode=as2&camp=1789&creative=9325&creativeASIN=B001GIOFN8"><img src="../images/amazon-buy-button.gif"></a>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="small-12 columns">
        <div class="titlepage">
<div>
<div>
<h2 class="title"><a name="apihelper"></a>Chapter&#160;4.&#160;The Power Of Introspection
                  </h2>
</div>
</div>
<div></div>
</div>
            </div>
        </div>
        <div class="row">
            <div class="small-12 columns">
        <div class="toc">
<ul>
<li><span class="section"><a href="index.html#apihelper.divein">4.1. Diving In</a></span></li>
<li><span class="section"><a href="optional_arguments.html">4.2. Using Optional and Named Arguments</a></span></li>
<li><span class="section"><a href="built_in_functions.html">4.3. Using type, str, dir, and Other Built-In Functions</a></span><ul>
<li><span class="section"><a href="built_in_functions.html#d0e8510">4.3.1. The type Function</a></span></li>
<li><span class="section"><a href="built_in_functions.html#d0e8609">4.3.2. The str Function</a></span></li>
<li><span class="section"><a href="built_in_functions.html#d0e8958">4.3.3. Built-In Functions</a></span></li>
</ul>
</li>
<li><span class="section"><a href="getattr.html">4.4. Getting Object References With getattr</a></span><ul>
<li><span class="section"><a href="getattr.html#d0e9194">4.4.1. getattr with Modules</a></span></li>
<li><span class="section"><a href="getattr.html#d0e9362">4.4.2. getattr As a Dispatcher</a></span></li>
</ul>
</li>
<li><span class="section"><a href="filtering_lists.html">4.5. Filtering Lists</a></span></li>
<li><span class="section"><a href="and_or.html">4.6. The Peculiar Nature of and and or</a></span><ul>
<li><span class="section"><a href="and_or.html#d0e9975">4.6.1. Using the and-or Trick</a></span></li>
</ul>
</li>
<li><span class="section"><a href="lambda_functions.html">4.7. Using lambda Functions</a></span><ul>
<li><span class="section"><a href="lambda_functions.html#d0e10403">4.7.1. Real-World lambda Functions</a></span></li>
</ul>
</li>
<li><span class="section"><a href="all_together.html">4.8. Putting It All Together</a></span></li>
<li><span class="section"><a href="summary.html">4.9. Summary</a></span></li>
</ul>
</div>
            </div>
        </div>
        <div class="row">
            <div class="small-12 columns">
        <div class="abstract">
<p>This chapter covers one of <span class="application">Python</span>'s strengths: introspection.  As you know, <a href="../getting_to_know_python/everything_is_an_object.html" title="2.4.&#160;Everything Is an Object">everything in <span class="application">Python</span> is an object</a>, and introspection is code looking at other modules and functions in memory as objects, getting information about them, and
               manipulating them.  Along the way, you'll define functions with no name, call functions with arguments out of order, and reference
               functions whose names you don't even know ahead of time.
            </p>
</div>
            </div>
        </div>
        <div class="row">
            <div class="small-12 columns">
        <div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h2 class="title"><a name="apihelper.divein"></a>4.1.&#160;Diving In
                     </h2>
</div>
</div>
<div></div>
</div>
<div class="abstract">
<p>Here is a complete, working <span class="application">Python</span> program.  You should understand a good deal about it just by looking at it.  The numbered lines illustrate concepts covered
                  in <a href="../getting_to_know_python/index.html" title="Chapter&#160;2.&#160;Your First Python Program">Chapter&#160;2, <i>Your First Python Program</i></a>.  Don't worry if the rest of the code looks intimidating; you'll learn all about it throughout this chapter.
               </p>
</div>
<div class="example"><a name="d0e8158"></a><h3 class="title">Example&#160;4.1.&#160;<tt class="filename">apihelper.py</tt></h3>
<p>If you have not already done so, you can <a href="http://diveintopython.org/download/diveintopython-examples-5.4.zip" title="Download example scripts">download this and other examples</a> used in this book.
               </p><pre class="programlisting"><span class="pykeyword">
def</span> info(object, spacing=10, collapse=1): <a name="apihelper.intro.1.1"></a><img alt="1" border="0" height="12" src="../images/callouts/1.png" width="12"> <a name="apihelper.intro.1.2"></a><img alt="2" border="0" height="12" src="../images/callouts/2.png" width="12"> <a name="apihelper.intro.1.3"></a><img alt="3" border="0" height="12" src="../images/callouts/3.png" width="12">
    <span class="pystring">"""Print methods and doc strings.
    
    Takes module, class, list, dictionary, or string."""</span>
    methodList = [method <span class="pykeyword">for</span> method <span class="pykeyword">in</span> dir(object) <span class="pykeyword">if</span> callable(getattr(object, method))]
    processFunc = collapse <span class="pykeyword">and</span> (<span class="pykeyword">lambda</span> s: <span class="pystring">" "</span>.join(s.split())) <span class="pykeyword">or</span> (<span class="pykeyword">lambda</span> s: s)
    <span class="pykeyword">print</span> <span class="pystring">"\n"</span>.join([<span class="pystring">"%s %s"</span> %
                      (method.ljust(spacing),
                       processFunc(str(getattr(object, method).__doc__)))
                     <span class="pykeyword">for</span> method <span class="pykeyword">in</span> methodList])

<span class="pykeyword">if</span> __name__ == <span class="pystring">"__main__"</span>:                <a name="apihelper.intro.1.4"></a><img alt="4" border="0" height="12" src="../images/callouts/4.png" width="12"> <a name="apihelper.intro.1.5"></a><img alt="5" border="0" height="12" src="../images/callouts/5.png" width="12">
    <span class="pykeyword">print</span> info.__doc__</img></img></img></img></img></pre><div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="12"><a href="#apihelper.intro.1.1"><img alt="1" border="0" height="12" src="../images/callouts/1.png" width="12"/></a>
</td>
<td align="left" valign="top">This module has one function, <tt class="function">info</tt>.  According to its <a href="../getting_to_know_python/declaring_functions.html" title="2.2.&#160;Declaring Functions">function declaration</a>, it takes three parameters: <tt class="varname">object</tt>, <tt class="varname">spacing</tt>, and <tt class="varname">collapse</tt>.  The last two are actually optional parameters, as you'll see shortly.
                        </td>
</tr>
<tr>
<td align="left" valign="top" width="12"><a href="#apihelper.intro.1.2"><img alt="2" border="0" height="12" src="../images/callouts/2.png" width="12"/></a>
</td>
<td align="left" valign="top">The <tt class="function">info</tt> function has a multi-line <a href="../getting_to_know_python/documenting_functions.html" title="2.3.&#160;Documenting Functions"><tt class="literal">doc string</tt></a> that succinctly describes the function's purpose.  Note that no return value is mentioned; this function will be used solely
                           for its effects, rather than its value.
                        </td>
</tr>
<tr>
<td align="left" valign="top" width="12"><a href="#apihelper.intro.1.3"><img alt="3" border="0" height="12" src="../images/callouts/3.png" width="12"/></a>
</td>
<td align="left" valign="top">Code within the function is <a href="../getting_to_know_python/indenting_code.html" title="2.5.&#160;Indenting Code">indented</a>.
                        </td>
</tr>
<tr>
<td align="left" valign="top" width="12"><a href="#apihelper.intro.1.4"><img alt="4" border="0" height="12" src="../images/callouts/4.png" width="12"/></a>
</td>
<td align="left" valign="top">The <tt class="literal"><span class="literal">if</span> <span class="literal">__name__</span></tt> <a href="../getting_to_know_python/testing_modules.html#odbchelper.ifnametrick">trick</a> allows this program do something useful when run by itself, without interfering with its use as a module for other programs.
                            In this case, the program simply prints out the <tt class="literal">doc string</tt> of the <tt class="function">info</tt> function.
                        </td>
</tr>
<tr>
<td align="left" valign="top" width="12"><a href="#apihelper.intro.1.5"><img alt="5" border="0" height="12" src="../images/callouts/5.png" width="12"/></a>
</td>
<td align="left" valign="top"><a href="../getting_to_know_python/testing_modules.html#odbchelper.ifnametrick"><tt class="literal">if</tt> statements</a> use <tt class="literal">==</tt> for comparison, and parentheses are not required.
                        </td>
</tr>
</table>
</div>
</div>
<p>The <tt class="function">info</tt> function is designed to be used by you, the programmer, while working in the <span class="application">Python</span> <span class="acronym">IDE</span>.  It takes any object that has functions or methods (like a module, which has functions, or a list, which has methods) and
               prints out the functions and their <tt class="literal">doc string</tt>s.
            </p>
<div class="example"><a name="d0e8257"></a><h3 class="title">Example&#160;4.2.&#160;Sample Usage of <tt class="filename">apihelper.py</tt></h3><pre class="screen"><tt class="prompt">&gt;&gt;&gt; </tt><span class="userinput"><span class="pykeyword">from</span> apihelper <span class="pykeyword">import</span> info</span>
<tt class="prompt">&gt;&gt;&gt; </tt><span class="userinput">li = []</span>
<tt class="prompt">&gt;&gt;&gt; </tt><span class="userinput">info(li)</span>
<span class="computeroutput">append     L.append(object) -- append object to end
count      L.count(value) -&gt; integer -- return number of occurrences of value
extend     L.extend(list) -- extend list by appending list elements
index      L.index(value) -&gt; integer -- return index of first occurrence of value
insert     L.insert(index, object) -- insert object before index
pop        L.pop([index]) -&gt; item -- remove and return item at index (default last)
remove     L.remove(value) -- remove first occurrence of value
reverse    L.reverse() -- reverse *IN PLACE*
sort       L.sort([cmpfunc]) -- sort *IN PLACE*; if given, cmpfunc(x, y) -&gt; -1, 0, 1</span></pre></div>
<p>By default the output is formatted to be easy to read.  Multi-line <tt class="literal">doc string</tt>s are collapsed into a single long line, but this option can be changed by specifying <tt class="constant">0</tt> for the <i class="parameter"><tt>collapse</tt></i> argument.  If the function names are longer than 10 characters, you can specify a larger value for the <i class="parameter"><tt>spacing</tt></i> argument to make the output easier to read.
            </p>
<div class="example"><a name="d0e8294"></a><h3 class="title">Example&#160;4.3.&#160;Advanced Usage of <tt class="filename">apihelper.py</tt></h3><pre class="screen"><tt class="prompt">&gt;&gt;&gt; </tt><span class="userinput"><span class="pykeyword">import</span> odbchelper</span>
<tt class="prompt">&gt;&gt;&gt; </tt><span class="userinput">info(odbchelper)</span>
<span class="computeroutput">buildConnectionString Build a connection string from a dictionary Returns string.</span>
<tt class="prompt">&gt;&gt;&gt; </tt><span class="userinput">info(odbchelper, 30)</span>
<span class="computeroutput">buildConnectionString          Build a connection string from a dictionary Returns string.</span>
<tt class="prompt">&gt;&gt;&gt; </tt><span class="userinput">info(odbchelper, 30, 0)</span>
<span class="computeroutput">buildConnectionString          Build a connection string from a dictionary
    
    Returns string.
</span></pre></div>
</div>
            </div>
        </div>
        <div class="row">
            <div class="small-12 columns">
        <table border="0" cellpadding="0" cellspacing="0" class="Footer" summary="" width="100%">
<tr>
<td align="left" width="35%"><br><a class="NavigationArrow" href="../native_data_types/summary.html">&lt;&lt;&#160;Summary</a></br></td>
<td align="center" width="30%"><br>&#160;<span class="divider">|</span>&#160;<span class="thispage">1</span> <span class="divider">|</span> <a href="optional_arguments.html" title="4.2.&#160;Using Optional and Named Arguments">2</a> <span class="divider">|</span> <a href="built_in_functions.html" title="4.3.&#160;Using type, str, dir, and Other Built-In Functions">3</a> <span class="divider">|</span> <a href="getattr.html" title="4.4.&#160;Getting Object References With getattr">4</a> <span class="divider">|</span> <a href="filtering_lists.html" title="4.5.&#160;Filtering Lists">5</a> <span class="divider">|</span> <a href="and_or.html" title="4.6.&#160;The Peculiar Nature of and and or">6</a> <span class="divider">|</span> <a href="lambda_functions.html" title="4.7.&#160;Using lambda Functions">7</a> <span class="divider">|</span> <a href="all_together.html" title="4.8.&#160;Putting It All Together">8</a> <span class="divider">|</span> <a href="summary.html" title="4.9.&#160;Summary">9</a>&#160;<span class="divider">|</span>&#160;
            </br></td>
<td align="right" width="35%"><br><a class="NavigationArrow" href="optional_arguments.html">Using Optional and Named Arguments&#160;&gt;&gt;</a></br></td>
</tr>
<tr>
<td colspan="3"><br/></td>
</tr>
</table>
        <!-- Footer -->
<div class="Footer">
    <p><a href="https://github.com/pcsforeducation/diveintopython/issues?sort=created&state=open">Report issues<img style="margin-left:10px" height="40" src="../images/logo_github.png"></a></p>
    <p class="copyright">Copyright &copy; 2000, 2001, 2002, 2003, 2004 <a href="mailto:josh@servercobra.com">Mark Pilgrim</a>. Maintained by Josh Gachnang.</p>
</div>
<script type="text/javascript"><!--
google_ad_client = "ca-pub-1879314568120827";
/* DiveIntoPython */
google_ad_slot = "8002881514";
google_ad_width = 468;
google_ad_height = 60;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
<!-- End Footer -->
            </div>
        </div>
        <!-- Google Analytics -->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-9740779-18']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<!-- End Google Analytics -->
        <script src="../js/jquery.js"></script>
        <script src="../js/foundation.min.js"></script>
        <script>
          $(document).foundation();
        </script>
    </body>
</html>