
<!DOCTYPE html>
<!--[if IE 9]><html class="lt-ie10" lang="en" > <![endif]-->
<html class="no-js" lang="en" >
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>8.7.Â Quoting attribute values</title>
        <link rev="made" href="josh@servercobra.com" />
        <meta name="generator" content="convert_to_jinja2.py" />
        <meta name="keywords" content="Python, Dive Into Python, tutorial, object-oriented, programming, documentation, book, free" />
        <meta name="description" content="Python from novice to pro" />
        <link rel="home" href="http://www.diveintopython.net/" title="Dive Into Python" />
        
    
    <link rel="up" href="index.html" title=" Chapter8.HTML Processing" />
    
    
    
    <link rel="next" href="dialect.html" title=" 8.8.Introducing dialect.py" />
    

        <link rel="stylesheet" href="../css/normalize.css">
        <link rel="stylesheet" href="../css/foundation.css">
        <link rel="stylesheet" href="../css/diveintopython.css" type="text/css" />
        <script src="../js/modernizr.js"></script>
    </head>
    <body>
        <div class="row">
            <div class="small-12 columns" id="Header">
                <div class="row">
                    <div class="small-11 columns">
                        
    
    <td align="left" colspan="5" id="breadcrumb" valign="top">You are here: <a href="../index.html">Home</a>&#160;&gt;&#160;<a href="../toc/index.html">Dive Into Python</a>&#160;&gt;&#160;<a href="index.html">HTML Processing</a>&#160;&gt;&#160;<span class="thispage">Quoting attribute values</span></td>
    

                    </div>
                    <div class="small-1 columns">
                        
    <td align="right" id="navigation" valign="top">&#160;&#160;&#160;<a href="dictionary_based_string_formatting.html" title="Prev: &#8220;Dictionary-based string formatting&#8221;">&lt;&lt;</a>&#160;&#160;&#160;<a href="dialect.html" title="Next: &#8220;Introducing dialect.py&#8221;">&gt;&gt;</a></td>

                    </div>
                </div>

                <div id="logocontainer">
                    <h1 id="logo"><a href="http://www.diveintopython.net/index.html" accesskey="1">Dive Into Python</a></h1>
                    <p id="tagline">Python from novice to pro</p>
                    <a href="http://www.amazon.com/gp/product/B001GIOFN8/ref=as_li_tf_tl?ie=UTF8&tag=diveintopython-20&linkCode=as2&camp=1789&creative=9325&creativeASIN=B001GIOFN8"><img src="../images/amazon-buy-button.gif"></a>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="small-12 columns">
                
    

            </div>
        </div>
        <div class="row">
            <div class="small-12 columns">
                
    

            </div>
        </div>
        <div class="row">
            <div class="small-12 columns">
                
    

            </div>
        </div>
        <div class="row">
            <div class="small-12 columns">
                
    <div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h2 class="title"><a name="dialect.quoting"></a>8.7.&#160;Quoting attribute values
                  </h2>
</div>
</div>
<div></div>
</div>
<div class="abstract">
<p>A common question on <a href="http://groups.google.com/groups?group=comp.lang.python">comp.lang.python</a> is &#8220;<span class="quote">I have a bunch of <span class="acronym">HTML</span> documents with unquoted attribute values, and I want to properly quote them all.  How can I do this?</span>&#8221;<sup>[<a href="#ftn.d0e21764" name="d0e21764">4</a>]</sup>  (This is generally precipitated by a project manager who has found the <span class="acronym">HTML</span>-is-a-standard religion joining a large project and proclaiming that all pages must validate against an <span class="acronym">HTML</span> validator.  Unquoted attribute values are a common violation of the <span class="acronym">HTML</span> standard.)  Whatever the reason, unquoted attribute values are easy to fix by feeding <span class="acronym">HTML</span> through <tt class="classname">BaseHTMLProcessor</tt>.
            </p>
</div>
<p><tt class="classname">BaseHTMLProcessor</tt> consumes <span class="acronym">HTML</span> (since it's descended from <tt class="classname">SGMLParser</tt>) and produces equivalent <span class="acronym">HTML</span>, but the <span class="acronym">HTML</span> output is not identical to the input.  Tags and attribute names will end up in lowercase, even if they started in uppercase
            or mixed case, and attribute values will be enclosed in double quotes, even if they started in single quotes or with no quotes
            at all.  It is this last side effect that you can take advantage of.
         </p>
<div class="example"><a name="dialect.quoting.example"></a><h3 class="title">Example&#160;8.16.&#160;Quoting attribute values</h3><pre class="screen">
<tt class="prompt">&gt;&gt;&gt; </tt><span class="userinput">htmlSource = <span class="pystring">""</span>"</span>        <a name="dialect.basehtml.3.1"></a><img alt="1" border="0" height="12" src="../images/callouts/1.png" width="12">
<tt class="prompt">...     </tt>&lt;html&gt;
<tt class="prompt">...     </tt>&lt;head&gt;
<tt class="prompt">...     </tt>&lt;title&gt;Test page&lt;/title&gt;
<tt class="prompt">...     </tt>&lt;/head&gt;
<tt class="prompt">...     </tt>&lt;body&gt;
<tt class="prompt">...     </tt>&lt;ul&gt;
<tt class="prompt">...     </tt>&lt;li&gt;&lt;a href=index.html&gt;Home&lt;/a&gt;&lt;/li&gt;
<tt class="prompt">...     </tt>&lt;li&gt;&lt;a href=toc.html&gt;Table of contents&lt;/a&gt;&lt;/li&gt;
<tt class="prompt">...     </tt>&lt;li&gt;&lt;a href=history.html&gt;Revision history&lt;/a&gt;&lt;/li&gt;
<tt class="prompt">...     </tt>&lt;/body&gt;
<tt class="prompt">...     </tt>&lt;/html&gt;
<tt class="prompt">...     </tt><span class="userinput"><span class="pystring">""</span>"</span>
<tt class="prompt">&gt;&gt;&gt; </tt><span class="userinput"><span class="pykeyword">from</span> BaseHTMLProcessor <span class="pykeyword">import</span> BaseHTMLProcessor</span>
<tt class="prompt">&gt;&gt;&gt; </tt><span class="userinput">parser = BaseHTMLProcessor()</span>
<tt class="prompt">&gt;&gt;&gt; </tt><span class="userinput">parser.feed(htmlSource)</span> <a name="dialect.basehtml.3.2"></a><img alt="2" border="0" height="12" src="../images/callouts/2.png" width="12">
<tt class="prompt">&gt;&gt;&gt; </tt><span class="userinput"><span class="pykeyword">print</span> parser.output()</span>   <a name="dialect.basehtml.3.3"></a><img alt="3" border="0" height="12" src="../images/callouts/3.png" width="12">
<span class="computeroutput">&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Test page&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="index.html"&gt;Home&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="toc.html"&gt;Table of contents&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="history.html"&gt;Revision history&lt;/a&gt;&lt;/li&gt;
&lt;/body&gt;
&lt;/html&gt;</span></img></img></img></pre><div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="12"><a href="#dialect.basehtml.3.1"><img alt="1" border="0" height="12" src="../images/callouts/1.png" width="12"/></a>
</td>
<td align="left" valign="top">Note that the attribute values of the <tt class="literal">href</tt> attributes in the <tt class="sgmltag-element">&lt;a&gt;</tt> tags are not properly quoted.  (Also note that you're using <a href="../getting_to_know_python/documenting_functions.html#odbchelper.triplequotes" title="Example&#160;2.2.&#160;Defining the buildConnectionString Function's doc string">triple quotes</a> for something other than a <tt class="literal">doc string</tt>.  And directly in the <span class="acronym">IDE</span>, no less.  They're very useful.)
                     </td>
</tr>
<tr>
<td align="left" valign="top" width="12"><a href="#dialect.basehtml.3.2"><img alt="2" border="0" height="12" src="../images/callouts/2.png" width="12"/></a>
</td>
<td align="left" valign="top">Feed the parser.</td>
</tr>
<tr>
<td align="left" valign="top" width="12"><a href="#dialect.basehtml.3.3"><img alt="3" border="0" height="12" src="../images/callouts/3.png" width="12"/></a>
</td>
<td align="left" valign="top">Using the <tt class="function">output</tt> function defined in <tt class="classname">BaseHTMLProcessor</tt>, you get the output as a single string, complete with quoted attribute values.  While this may seem anti-climactic, think
                        about how much has actually happened here: <tt class="classname">SGMLParser</tt> parsed the entire <span class="acronym">HTML</span> document, breaking it down into tags, refs, data, and so forth; <tt class="classname">BaseHTMLProcessor</tt> used those elements to reconstruct pieces of <span class="acronym">HTML</span> (which are still stored in <tt class="varname">parser.pieces</tt>, if you want to see them); finally, you called <tt class="function">parser.output</tt>, which joined all the pieces of <span class="acronym">HTML</span> into one string.
                     </td>
</tr>
</table>
</div>
</div>
<div class="footnotes">
<h3 class="footnotetitle">Footnotes</h3>
<div class="footnote">
<p><sup>[<a href="#d0e21764" name="ftn.d0e21764">4</a>] </sup>All right, it's not that common a question.  It's not up there with &#8220;<span class="quote">What editor should I use to write <span class="application">Python</span> code?</span>&#8221; (answer: <span class="application">Emacs</span>) or &#8220;<span class="quote">Is <span class="application">Python</span> better or worse than <span class="application">Perl</span>?</span>&#8221; (answer: &#8220;<span class="quote"><span class="application">Perl</span> is worse than <span class="application">Python</span> because people wanted it worse.</span>&#8221; -Larry Wall, 10/14/1998)  But questions about <span class="acronym">HTML</span> processing pop up in one form or another about once a month, and among those questions, this is a popular one.
               </p>
</div>
</div>
</div>

            </div>
        </div>
        <div class="row">
            <div class="small-12 columns">
        
    <table border="0" cellpadding="0" cellspacing="0" class="Footer" summary="" width="100%">
<tr>
<td align="left" width="35%"><br><a class="NavigationArrow" href="dictionary_based_string_formatting.html">&lt;&lt;&#160;Dictionary-based string formatting</a></br></td>
<td align="center" width="30%"><br>&#160;<span class="divider">|</span>&#160;<a href="index.html#dialect.divein" title="8.1.&#160;Diving in">1</a> <span class="divider">|</span> <a href="introducing_sgmllib.html" title="8.2.&#160;Introducing sgmllib.py">2</a> <span class="divider">|</span> <a href="extracting_data.html" title="8.3.&#160;Extracting data from HTML documents">3</a> <span class="divider">|</span> <a href="basehtmlprocessor.html" title="8.4.&#160;Introducing BaseHTMLProcessor.py">4</a> <span class="divider">|</span> <a href="locals_and_globals.html" title="8.5.&#160;locals and globals">5</a> <span class="divider">|</span> <a href="dictionary_based_string_formatting.html" title="8.6.&#160;Dictionary-based string formatting">6</a> <span class="divider">|</span> <span class="thispage">7</span> <span class="divider">|</span> <a href="dialect.html" title="8.8.&#160;Introducing dialect.py">8</a> <span class="divider">|</span> <a href="all_together.html" title="8.9.&#160;Putting it all together">9</a> <span class="divider">|</span> <a href="summary.html" title="8.10.&#160;Summary">10</a>&#160;<span class="divider">|</span>&#160;
            </br></td>
<td align="right" width="35%"><br><a class="NavigationArrow" href="dialect.html">Introducing dialect.py&#160;&gt;&gt;</a></br></td>
</tr>
<tr>
<td colspan="3"><br/></td>
</tr>
</table>

        <!-- Footer -->
<div class="Footer">
    <p><a href="https://github.com/pcsforeducation/diveintopython/issues?sort=created&state=open">Report issues<img style="margin-left:10px" height="40" src="../images/logo_github.png"></a></p>
    <p class="copyright">Copyright &copy; 2000, 2001, 2002, 2003, 2004 <a href="mailto:josh@servercobra.com">Mark Pilgrim</a>. Maintained by Josh Gachnang.</p>
</div>
<script type="text/javascript"><!--
google_ad_client = "ca-pub-1879314568120827";
/* DiveIntoPython */
google_ad_slot = "8002881514";
google_ad_width = 468;
google_ad_height = 60;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
<!-- End Footer -->
            </div>
        </div>
        <!-- Google Analytics -->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-9740779-18']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<!-- End Google Analytics -->
        <script src="../js/jquery.js"></script>
        <script src="../js/foundation.min.js"></script>
        <script>
          $(document).foundation();
        </script>
    </body>
</html>