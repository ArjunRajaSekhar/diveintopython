
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   
      <title>5.6. M&eacute;thodes de classe sp&eacute;ciales</title>
      <link rel="stylesheet" href="http://web.archive.org/web/20090208123053cs_/http://diveintopython.adrahon.org/diveintopython.css" type="text/css">
      <link rev="made" href="mailto:f8dy@diveintopython.org">
      <meta name="generator" content="DocBook XSL Stylesheets V1.52.2">
      <meta name="keywords" content="Python, Dive Into Python, french, translation, Plongez au coeur de Python, tutoriel, orient&eacute; objet, programmation, documentation, livre, libre, gratuit">
      <meta name="description" content="Python from novice to pro">
      <link rel="home" href="http://web.archive.org/web/20090208123053/http://diveintopython.adrahon.org/toc/index.html" title="Plongez au coeur de Python">
      <link rel="up" href="http://web.archive.org/web/20090208123053/http://diveintopython.adrahon.org/object_oriented_framework/index.html" title="Chapitre 5. Les objets et l'orient&eacute; objet">
      <link rel="previous" href="http://web.archive.org/web/20090208123053/http://diveintopython.adrahon.org/object_oriented_framework/userdict.html" title="5.5. UserDict : une classe enveloppe">
      <link rel="next" href="http://web.archive.org/web/20090208123053/http://diveintopython.adrahon.org/object_oriented_framework/special_class_methods2.html" title="5.7. M&eacute;thodes sp&eacute;ciales avanc&eacute;es">
   </head>
   <body>
<!-- BEGIN WAYBACK TOOLBAR INSERT -->

<script type="text/javascript" src="http://staticweb.archive.org/js/disclaim-element.js" ></script>
<script type="text/javascript" src="http://staticweb.archive.org/js/graph-calc.js" ></script>
<script type="text/javascript" src="http://staticweb.archive.org/jflot/jquery.min.js" ></script>
<script type="text/javascript">
//<![CDATA[
var firstDate = 820454400000;
var lastDate = 1325375999999;
var wbPrefix = "http://web.archive.org/web/";
var wbCurrentUrl = "http:\/\/diveintopython.adrahon.org\/object_oriented_framework\/special_class_methods.html";

var curYear = -1;
var curMonth = -1;
var yearCount = 16;
var firstYear = 1996;
var imgWidth=400;
var yearImgWidth = 25;
var monthImgWidth = 2;
var trackerVal = "none";
var displayDay = "8";
var displayMonth = "Feb";
var displayYear = "2009";
var prettyMonths = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];

function showTrackers(val) {
	if(val == trackerVal) {
		return;
	}
	if(val == "inline") {
		document.getElementById("displayYearEl").style.color = "#ec008c";
		document.getElementById("displayMonthEl").style.color = "#ec008c";
		document.getElementById("displayDayEl").style.color = "#ec008c";		
	} else {
		document.getElementById("displayYearEl").innerHTML = displayYear;
		document.getElementById("displayYearEl").style.color = "#ff0";
		document.getElementById("displayMonthEl").innerHTML = displayMonth;
		document.getElementById("displayMonthEl").style.color = "#ff0";
		document.getElementById("displayDayEl").innerHTML = displayDay;
		document.getElementById("displayDayEl").style.color = "#ff0";
	}
   document.getElementById("wbMouseTrackYearImg").style.display = val;
   document.getElementById("wbMouseTrackMonthImg").style.display = val;
   trackerVal = val;
}
function getElementX2(obj) {
	var thing = jQuery(obj);
	if((thing == undefined) 
			|| (typeof thing == "undefined") 
			|| (typeof thing.offset == "undefined")) {
		return getElementX(obj);
	}
	return Math.round(thing.offset().left);
}
function trackMouseMove(event,element) {

   var eventX = getEventX(event);
   var elementX = getElementX2(element);
   var xOff = eventX - elementX;
	if(xOff < 0) {
		xOff = 0;
	} else if(xOff > imgWidth) {
		xOff = imgWidth;
	}
   var monthOff = xOff % yearImgWidth;

   var year = Math.floor(xOff / yearImgWidth);
	var yearStart = year * yearImgWidth;
   var monthOfYear = Math.floor(monthOff / monthImgWidth);
   if(monthOfYear > 11) {
       monthOfYear = 11;
   }
   // 1 extra border pixel at the left edge of the year:
   var month = (year * 12) + monthOfYear;
   var day = 1;
	if(monthOff % 2 == 1) {
		day = 15;
	}
	var dateString = 
		zeroPad(year + firstYear) + 
		zeroPad(monthOfYear+1,2) +
		zeroPad(day,2) + "000000";

	var monthString = prettyMonths[monthOfYear];
	document.getElementById("displayYearEl").innerHTML = year + 1996;
	document.getElementById("displayMonthEl").innerHTML = monthString;
	// looks too jarring when it changes..
	//document.getElementById("displayDayEl").innerHTML = zeroPad(day,2);

	var url = wbPrefix + dateString + '/' +  wbCurrentUrl;
	document.getElementById('wm-graph-anchor').href = url;

   //document.getElementById("wmtbURL").value="evX("+eventX+") elX("+elementX+") xO("+xOff+") y("+year+") m("+month+") monthOff("+monthOff+") DS("+dateString+") Moy("+monthOfYear+") ms("+monthString+")";
   if(curYear != year) {
       var yrOff = year * yearImgWidth;
       document.getElementById("wbMouseTrackYearImg").style.left = yrOff + "px";
       curYear = year;
   }
   if(curMonth != month) {
       var mtOff = year + (month * monthImgWidth) + 1;
       document.getElementById("wbMouseTrackMonthImg").style.left = mtOff + "px";
       curMonth = month;
   }
}
//]]>
</script>

<style type="text/css">body{margin-top:0!important;padding-top:0!important;min-width:800px!important;}#wm-ipp a:hover{text-decoration:underline!important;}</style>
<div id="wm-ipp" style="display:none; position:relative;padding:0 5px;min-height:70px;min-width:800px; z-index:9000;">
<div id="wm-ipp-inside" style="position:fixed;padding:0!important;margin:0!important;width:97%;min-width:780px;border:5px solid #000;border-top:none;background-image:url(http://staticweb.archive.org/images/toolbar/wm_tb_bk_trns.png);text-align:center;-moz-box-shadow:1px 1px 3px #333;-webkit-box-shadow:1px 1px 3px #333;box-shadow:1px 1px 3px #333;font-size:11px!important;font-family:'Lucida Grande','Arial',sans-serif!important;">
   <table style="border-collapse:collapse;margin:0;padding:0;width:100%;"><tbody><tr>
   <td style="padding:10px;vertical-align:top;min-width:110px;">
   <a href="http://wayback.archive.org/web/" title="Wayback Machine home page" style="background-color:transparent;border:none;"><img src="http://staticweb.archive.org/images/toolbar/wayback-toolbar-logo.png" alt="Wayback Machine" width="110" height="39" border="0"/></a>
   </td>
   <td style="padding:0!important;text-align:center;vertical-align:top;width:100%;">

       <table style="border-collapse:collapse;margin:0 auto;padding:0;width:570px;"><tbody><tr>
       <td style="padding:3px 0;" colspan="2">
       <form target="_top" method="get" action="http://wayback.archive.org/web/form-submit.jsp" name="wmtb" id="wmtb" style="margin:0!important;padding:0!important;"><input type="text" name="url" id="wmtbURL" value="http://diveintopython.adrahon.org/object_oriented_framework/special_class_methods.html" style="width:400px;font-size:11px;font-family:'Lucida Grande','Arial',sans-serif;" onfocus="javascript:this.focus();this.select();" /><input type="hidden" name="type" value="replay" /><input type="hidden" name="date" value="20090208123053" /><input type="submit" value="Go" style="font-size:11px;font-family:'Lucida Grande','Arial',sans-serif;margin-left:5px;" /><span id="wm_tb_options" style="display:block;"></span></form>
       </td>
       <td style="vertical-align:bottom;padding:5px 0 0 0!important;" rowspan="2">
           <table style="border-collapse:collapse;width:110px;color:#99a;font-family:'Helvetica','Lucida Grande','Arial',sans-serif;"><tbody>
			
           <!-- NEXT/PREV MONTH NAV AND MONTH INDICATOR -->
           <tr style="width:110px;height:16px;font-size:10px!important;">
           	<td style="padding-right:9px;font-size:11px!important;font-weight:bold;text-transform:uppercase;text-align:right;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
		                <a href="http://web.archive.org/web/20081204101603/http://diveintopython.adrahon.org/object_oriented_framework/special_class_methods.html" style="text-decoration:none;color:#33f;font-weight:bold;background-color:transparent;border:none;" title="4 Dec 2008"><strong>DEC</strong></a>
		                
               </td>
               <td id="displayMonthEl" style="background:#000;color:#ff0;font-size:11px!important;font-weight:bold;text-transform:uppercase;width:34px;height:15px;padding-top:1px;text-align:center;" title="You are here: 12:30:53 Feb 8, 2009">FEB</td>
				<td style="padding-left:9px;font-size:11px!important;font-weight:bold;text-transform:uppercase;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       Mar
                       
               </td>
           </tr>

           <!-- NEXT/PREV CAPTURE NAV AND DAY OF MONTH INDICATOR -->
           <tr>
               <td style="padding-right:9px;white-space:nowrap;overflow:visible;text-align:right!important;vertical-align:middle!important;" nowrap="nowrap">
               
		                <a href="http://web.archive.org/web/20081204101603/http://diveintopython.adrahon.org/object_oriented_framework/special_class_methods.html" title="10:16:03 Dec 4, 2008" style="background-color:transparent;border:none;"><img src="http://staticweb.archive.org/images/toolbar/wm_tb_prv_on.png" alt="Previous capture" width="14" height="16" border="0" /></a>
		                
               </td>
               <td id="displayDayEl" style="background:#000;color:#ff0;width:34px;height:24px;padding:2px 0 0 0;text-align:center;font-size:24px;font-weight: bold;" title="You are here: 12:30:53 Feb 8, 2009">8</td>
				<td style="padding-left:9px;white-space:nowrap;overflow:visible;text-align:left!important;vertical-align:middle!important;" nowrap="nowrap">
               
                       <img src="http://staticweb.archive.org/images/toolbar/wm_tb_nxt_off.png" alt="Next capture" width="14" height="16" border="0"/>
                       
			    </td>
           </tr>

           <!-- NEXT/PREV YEAR NAV AND YEAR INDICATOR -->
           <tr style="width:110px;height:13px;font-size:9px!important;">
				<td style="padding-right:9px;font-size:11px!important;font-weight: bold;text-align:right;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
		                <a href="http://web.archive.org/web/20080116221552/http://diveintopython.adrahon.org/object_oriented_framework/special_class_methods.html" style="text-decoration:none;color:#33f;font-weight:bold;background-color:transparent;border:none;" title="16 Jan 2008"><strong>2008</strong></a>
		                
               </td>
               <td id="displayYearEl" style="background:#000;color:#ff0;font-size:11px!important;font-weight: bold;padding-top:1px;width:34px;height:13px;text-align:center;" title="You are here: 12:30:53 Feb 8, 2009">2009</td>
				<td style="padding-left:9px;font-size:11px!important;font-weight: bold;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       2010
                       
				</td>
           </tr>
           </tbody></table>
       </td>

       </tr>
       <tr>
       <td style="vertical-align:middle;padding:0!important;">
           <a href="http://wayback.archive.org/web/20090208123053*/http://diveintopython.adrahon.org/object_oriented_framework/special_class_methods.html" style="color:#33f;font-size:11px;font-weight:bold;background-color:transparent;border:none;" title="See a list of every capture for this URL"><strong>33 captures</strong></a>
           <div style="margin:0!important;padding:0!important;color:#666;font-size:9px;padding-top:2px!important;white-space:nowrap;" title="Timespan for captures of this URL">12 May 06 - 8 Feb 09</div>
       </td>
       <td style="padding:0!important;">
       <a style="position:relative; white-space:nowrap; width:400px;height:27px;" href="" id="wm-graph-anchor">
       <div id="wm-ipp-sparkline" style="position:relative; white-space:nowrap; width:400px;height:27px;background-color:#fff;cursor:pointer;border-right:1px solid #ccc;" title="Explore captures for this URL">
			<img id="sparklineImgId" style="position:absolute; z-index:9012; top:0px; left:0px;"
				onmouseover="showTrackers('inline');" 
				onmouseout="showTrackers('none');"
				onmousemove="trackMouseMove(event,this)"
				alt="sparklines"
				width="400"
				height="27"
				border="0"
				src="http://wayback.archive.org/jsp/graph.jsp?graphdata=400_27_1996:-1:000000000000_1997:-1:000000000000_1998:-1:000000000000_1999:-1:000000000000_2000:-1:000000000000_2001:-1:000000000000_2002:-1:000000000000_2003:-1:000000000000_2004:-1:000000000000_2005:-1:000000000000_2006:-1:000010000124_2007:-1:610113100111_2008:-1:111120001001_2009:1:010000000000_2010:-1:000000000000_2011:-1:000000000000"></img>
			<img id="wbMouseTrackYearImg" 
				style="display:none; position:absolute; z-index:9010;"
				width="25" 
				height="27"
				border="0"
				src="http://staticweb.archive.org/images/toolbar/transp-yellow-pixel.png"></img>
			<img id="wbMouseTrackMonthImg"
				style="display:none; position:absolute; z-index:9011; " 
				width="2"
				height="27" 
				border="0"
				src="http://staticweb.archive.org/images/toolbar/transp-red-pixel.png"></img>
       </div>
		</a>

       </td>
       </tr></tbody></table>
   </td>
   <td style="text-align:right;padding:5px;width:65px;font-size:11px!important;">
       <a href="javascript:;" onclick="document.getElementById('wm-ipp').style.display='none';" style="display:block;padding-right:18px;background:url(http://staticweb.archive.org/images/toolbar/wm_tb_close.png) no-repeat 100% 0;color:#33f;font-family:'Lucida Grande','Arial',sans-serif;margin-bottom:23px;background-color:transparent;border:none;" title="Close the toolbar">Close</a>
       <a href="http://faq.web.archive.org/" style="display:block;padding-right:18px;background:url(http://staticweb.archive.org/images/toolbar/wm_tb_help.png) no-repeat 100% 0;color:#33f;font-family:'Lucida Grande','Arial',sans-serif;background-color:transparent;border:none;" title="Get some help using the Wayback Machine">Help</a>
   </td>
   </tr></tbody></table>

</div>
</div>
<script type="text/javascript">
 var wmDisclaimBanner = document.getElementById("wm-ipp");
 if(wmDisclaimBanner != null) {
   disclaimElement(wmDisclaimBanner);
 }
</script>
<!-- END WAYBACK TOOLBAR INSERT -->

      <table id="Header" width="100%" border="0" cellpadding="0" cellspacing="0" summary="">
         <tr>
            <td id="breadcrumb" colspan="5" align="left" valign="top">You are here: <a href="http://web.archive.org/web/20090208123053/http://diveintopython.adrahon.org/index.html">Sommaire</a>&nbsp;&gt;&nbsp;<a href="http://web.archive.org/web/20090208123053/http://diveintopython.adrahon.org/toc/index.html">Plongez au coeur de Python</a>&nbsp;&gt;&nbsp;<a href="http://web.archive.org/web/20090208123053/http://diveintopython.adrahon.org/object_oriented_framework/index.html">Les objets et l'orient&eacute; objet</a>&nbsp;&gt;&nbsp;<span class="thispage">M&eacute;thodes de classe sp&eacute;ciales</span></td>
            <td id="navigation" align="right" valign="top">&nbsp;&nbsp;&nbsp;<a href="http://web.archive.org/web/20090208123053/http://diveintopython.adrahon.org/object_oriented_framework/userdict.html" title="Pr&eacute;c&eacute;dent: &laquo;UserDict : une classe enveloppe&raquo;">&lt;&lt;</a>&nbsp;&nbsp;&nbsp;<a href="http://web.archive.org/web/20090208123053/http://diveintopython.adrahon.org/object_oriented_framework/special_class_methods2.html" title="Suivant: &laquo;M&eacute;thodes sp&eacute;ciales avanc&eacute;es&raquo;">&gt;&gt;</a></td>
         </tr>
         <tr>
            <td colspan="6" id="logocontainer">
               <h1 id="logo"><a href="http://web.archive.org/web/20090208123053/http://diveintopython.adrahon.org/index.html" accesskey="1">Plongez au coeur de Python</a></h1>
               <p id="tagline">De d&eacute;butant &agrave; expert</p>
            </td>
         </tr>
      </table>
      <!--#include virtual="/inc/ads" -->
      <div class="section" lang="fr">
         <div class="titlepage">
            <div>
               <div>
                  <h2 class="title"><a name="fileinfo.specialmethods"></a>5.6. M&eacute;thodes de classe sp&eacute;ciales
                  </h2>
               </div>
            </div>
            <div></div>
         </div>
         <div class="toc">
            <ul>
               <li><span class="section"><a href="http://web.archive.org/web/20090208123053/http://diveintopython.adrahon.org/object_oriented_framework/special_class_methods.html#d0e12873">5.6.1. Lire et &eacute;crire des &eacute;l&eacute;ments</a></span></li>
            </ul>
         </div>
         <div class="abstract">
            <p>En plus des m&eacute;thodes de classe ordinaires, il y a un certain
                       nombre de m&eacute;thodes sp&eacute;ciales que les classes
                       <span class="application">Python</span> peuvent d&eacute;finir. Au lieu d'&ecirc;tre
                       appel&eacute;es directement par votre code (comme les m&eacute;thodes ordinaires)
                       les m&eacute;thodes sp&eacute;ciales sont appel&eacute;es pour vous par
                       <span class="application">Python</span> dans des circonstances particuli&egrave;res
                       ou quand une syntaxe sp&eacute;cifique est utilis&eacute;e.
            </p>
         </div>
         <p>Comme vous l'avez vu dans la <a href="http://web.archive.org/web/20090208123053/http://diveintopython.adrahon.org/object_oriented_framework/userdict.html" title="5.5. UserDict : une classe enveloppe">section pr&eacute;c&eacute;dente</a>, les m&eacute;thodes
                  ordinaires nous ont permis en grande partie d'envelopper un dictionnaire
                  dans une classe. Mais les m&eacute;thodes ordinaires seules ne suffisent pas
                  parce qu'il y a beaucoup de choses que vous pouvez faire avec un
                  dictionnaire en dehors d'appeler ses m&eacute;thodes. Pour commencer vous
                  pouvez lire (<a href="http://web.archive.org/web/20090208123053/http://diveintopython.adrahon.org/native_data_types/index.html#odbchelper.dict.define" title="Exemple 3.1. D&eacute;finition d'un dictionnaire">get</a>) et
                  &eacute;crire (<a href="http://web.archive.org/web/20090208123053/http://diveintopython.adrahon.org/native_data_types/index.html#odbchelper.dict.modify" title="Exemple 3.2. Modification d'un dictionnaire">set</a>) des &eacute;l&eacute;ments
                  &agrave; l'aide d'une syntaxe qui ne fait pas explicitement appel &agrave; des
                  m&eacute;thodes. C'est l&agrave; que les m&eacute;thodes de classe sp&eacute;ciales interviennent :
                  elle fournissent un moyen de faire correspondre la syntaxe n'appelant
                  pas de m&eacute;thodes &agrave; des appels de m&eacute;thodes.
         </p>
         <div class="section" lang="fr">
            <div class="titlepage">
               <div>
                  <div>
                     <h3 class="title"><a name="d0e12873"></a>5.6.1. Lire et &eacute;crire des &eacute;l&eacute;ments
                     </h3>
                  </div>
               </div>
               <div></div>
            </div>
            <div class="example"><a name="d0e12876"></a><h3 class="title">Exemple 5.12. La m&eacute;thode sp&eacute;ciale <tt class="function">__getitem__</tt></h3><pre class="programlisting">
    <span class='pykeyword'>def</span><span class='pyclass'> __getitem__</span>(self, key): <span class='pykeyword'>return</span> self.data[key]</pre><pre class="screen"><tt class="prompt">&gt;&gt;&gt; </tt><span class="userinput">f = fileinfo.FileInfo(<span class='pystring'>"/music/_singles/kairo.mp3"</span>)</span>
<tt class="prompt">&gt;&gt;&gt; </tt><span class="userinput">f</span>
<span class="computeroutput">{'name':'/music/_singles/kairo.mp3'}</span>
<tt class="prompt">&gt;&gt;&gt; </tt><span class="userinput">f.__getitem__(<span class='pystring'>"name"</span>)</span> <a name="fileinfo.specialmethods.1.1"></a><img src="http://web.archive.org/web/20090208123053im_/http://diveintopython.adrahon.org/images/callouts/1.png" alt="1" border="0" width="12" height="12">
<span class="computeroutput">'/music/_singles/kairo.mp3'</span>
<tt class="prompt">&gt;&gt;&gt; </tt><span class="userinput">f[<span class='pystring'>"name"</span>]</span>             <a name="fileinfo.specialmethods.1.2"></a><img src="http://web.archive.org/web/20090208123053im_/http://diveintopython.adrahon.org/images/callouts/2.png" alt="2" border="0" width="12" height="12">
<span class="computeroutput">'/music/_singles/kairo.mp3'</span></pre><div class="calloutlist">
                  <table border="0" summary="Callout list">
                     <tr>
                        <td width="12" valign="top" align="left"><a href="http://web.archive.org/web/20090208123053/http://diveintopython.adrahon.org/object_oriented_framework/special_class_methods.html#fileinfo.specialmethods.1.1"><img src="http://web.archive.org/web/20090208123053im_/http://diveintopython.adrahon.org/images/callouts/1.png" alt="1" border="0" width="12" height="12"></a> 
                        </td>
                        <td valign="top" align="left">La m&eacute;thode sp&eacute;ciale <tt class="function">__getitem__</tt> &agrave; l'air
                                       simple. Comme les m&eacute;thodes ordinaires <tt class="function">clear</tt>,
                                       <tt class="function">keys</tt> et <tt class="function">values</tt>, elle ne
                                       fait que rediriger vers le dictionnaire pour obtenir sa valeur.
                                       Mais comment est-elle appel&eacute;e ? Vous pouvez appeler
                                       <tt class="function">__getitem__</tt> directement, mais en pratique
                                       vous ne le ferez pas, je le fais ici seulement pour vous montrer
                                       comment &ccedil;a marche. La bonne mani&egrave;re d'utiliser
                                       <tt class="function">__getitem__</tt> est d'obtenir de
                                       <span class="application">Python</span> qu'il fasse l'appel pour
                                       vous.
                        </td>
                     </tr>
                     <tr>
                        <td width="12" valign="top" align="left"><a href="http://web.archive.org/web/20090208123053/http://diveintopython.adrahon.org/object_oriented_framework/special_class_methods.html#fileinfo.specialmethods.1.2"><img src="http://web.archive.org/web/20090208123053im_/http://diveintopython.adrahon.org/images/callouts/2.png" alt="2" border="0" width="12" height="12"></a> 
                        </td>
                        <td valign="top" align="left">Cela &agrave; l'apparence exacte de la syntaxe que l'on utilise
                                       pour <a href="http://web.archive.org/web/20090208123053/http://diveintopython.adrahon.org/native_data_types/index.html#odbchelper.dict.define" title="Exemple 3.1. D&eacute;finition d'un dictionnaire">obtenir une valeur
                                          d'un dictionnaire</a> et cela retourne bien la valeur que l'on
                                       attend. Mais il y a un cha&icirc;non manquant : en coulisse,
                                       <span class="application">Python</span> convertit cette syntaxe en un
                                       appel de m&eacute;thode <tt class="literal">f.__getitem__("name")</tt>. C'est
                                       pourquoi <tt class="function">__getitem__</tt> est une m&eacute;thode de
                                       classe sp&eacute;ciale, non seulement vous pouvez l'appeler vous-m&ecirc;me,
                                       mais vous pouvez faire en sorte que
                                       <span class="application">Python</span> l'appelle pour vous gr&acirc;ce &agrave; la
                                       syntaxe appropri&eacute;e.
                        </td>
                     </tr>
                  </table>
               </div>
            </div>
            <p>Bien s&ucirc;r, <span class="application">Python</span> a une m&eacute;thode sp&eacute;ciale <tt class="function">__setitem__</tt> pour accompagner <tt class="function">__getitem__</tt>, comme nous le montrons dans l'exemple suivant.
            </p>
            <div class="example"><a name="fileinfo.specialmethods.setitem.example"></a><h3 class="title">Exemple 5.13. La m&eacute;thode sp&eacute;ciale <tt class="function">__setitem__</tt></h3><pre class="programlisting">
    <span class='pykeyword'>def</span><span class='pyclass'> __setitem__</span>(self, key, item): self.data[key] = item</pre><pre class="screen"><tt class="prompt">&gt;&gt;&gt; </tt><span class="userinput">f</span>
<span class="computeroutput">{'name':'/music/_singles/kairo.mp3'}</span>
<tt class="prompt">&gt;&gt;&gt; </tt><span class="userinput">f.__setitem__(<span class='pystring'>"genre"</span>, 31)</span> <a name="fileinfo.specialmethods.2.1"></a><img src="http://web.archive.org/web/20090208123053im_/http://diveintopython.adrahon.org/images/callouts/1.png" alt="1" border="0" width="12" height="12">
<tt class="prompt">&gt;&gt;&gt; </tt><span class="userinput">f</span>
<span class="computeroutput">{'name':'/music/_singles/kairo.mp3', 'genre':31}</span>
<tt class="prompt">&gt;&gt;&gt; </tt><span class="userinput">f[<span class='pystring'>"genre"</span>] = 32</span>            <a name="fileinfo.specialmethods.2.2"></a><img src="http://web.archive.org/web/20090208123053im_/http://diveintopython.adrahon.org/images/callouts/2.png" alt="2" border="0" width="12" height="12">
<tt class="prompt">&gt;&gt;&gt; </tt><span class="userinput">f</span>
<span class="computeroutput">{'name':'/music/_singles/kairo.mp3', 'genre':32}</span></pre><div class="calloutlist">
                  <table border="0" summary="Callout list">
                     <tr>
                        <td width="12" valign="top" align="left"><a href="http://web.archive.org/web/20090208123053/http://diveintopython.adrahon.org/object_oriented_framework/special_class_methods.html#fileinfo.specialmethods.2.1"><img src="http://web.archive.org/web/20090208123053im_/http://diveintopython.adrahon.org/images/callouts/1.png" alt="1" border="0" width="12" height="12"></a> 
                        </td>
                        <td valign="top" align="left">Comme la m&eacute;thode <tt class="function">__getitem__</tt>,
                                       <tt class="function">__setitem__</tt> redirige simplement l'appel au
                                       v&eacute;ritable dictionnaire <tt class="varname">self.data</tt>. Et comme pour
                                       <tt class="function">__getitem__</tt>, vous n'appelez pas
                                       directement cette m&eacute;thode en g&eacute;n&eacute;ral,
                                       <span class="application">Python</span> appelle
                                       <tt class="function">__setitem__</tt> pour vous lorsque vous utilisez
                                       la bonne syntaxe.
                        </td>
                     </tr>
                     <tr>
                        <td width="12" valign="top" align="left"><a href="http://web.archive.org/web/20090208123053/http://diveintopython.adrahon.org/object_oriented_framework/special_class_methods.html#fileinfo.specialmethods.2.2"><img src="http://web.archive.org/web/20090208123053im_/http://diveintopython.adrahon.org/images/callouts/2.png" alt="2" border="0" width="12" height="12"></a> 
                        </td>
                        <td valign="top" align="left">Cela ressemble &agrave; la syntaxe habituelle d'utilisation d'un
                                       dictionnaire, mais en fait<tt class="varname"> f</tt> est une classe
                                       faisant de son mieux pour passer pour un dictionnaire et
                                       <tt class="function">__setitem__</tt> est un &eacute;l&eacute;ment essentiel de cette
                                       apparence. Cette ligne de code appelle en fait
                                       <tt class="literal">f.__setitem__("genre", 32)</tt> en coulisse.
                        </td>
                     </tr>
                  </table>
               </div>
            </div>
            <p><tt class="function">__setitem__</tt> est une m&eacute;thode de classe
                     sp&eacute;ciale car elle est appel&eacute;e pour vous, mais c'est quand m&ecirc;me une
                     m&eacute;thode de classe. Nous pouvons la red&eacute;finir dans une classe descendante
                     tout aussi facilement qu'elle a &eacute;t&eacute; d&eacute;finie dans
                     <tt class="classname">UserDict</tt>. Cela nous permet de d&eacute;finir des classes
                     qui se comportent en partie comme des dictionnaires, mais qui ont leur
                     propre comportement d&eacute;passant le cadre d'un simple dictionnaire.
            </p>
            <p>Ce concept est &agrave; la base de tout le
                     <span class="foreignphrase"><i class="foreignphrase">framework</i></span> que nous &eacute;tudions dans ce
                     chapitre. Chaque type de fichier peut avoir une classe de manipulation
                     qui sait comment obtenir des m&eacute;ta-donn&eacute;es d'un type particulier de
                     fichier. Une fois certains attributs (comme le nom et l'emplacement du
                     fichier) connus, la classe de manipulation sait comment obtenir les
                     autres attributs automatiquement. Cela se fait en red&eacute;finissant la
                     m&eacute;thode <tt class="function">__setitem__</tt>, en cherchant des cl&eacute;s
                     particuli&egrave;res et en ajoutant un traitement suppl&eacute;mentaire quand elles
                     sont trouv&eacute;es.
            </p>
            <p>Par exemple, <tt class="classname">MP3FileInfo</tt> est un descendant
                     de <tt class="classname">FileInfo</tt>. Quand le nom
                     (<tt class="literal">name</tt>) d'un <tt class="classname">MP3FileInfo</tt> est
                     d&eacute;fini, cela ne change pas seulement la valeur de la cl&eacute;
                     <tt class="literal">name</tt> (comme pour l'anc&ecirc;tre
                     <tt class="classname">FileInfo</tt>), mais d&eacute;clenche la recherche de balises
                     <span class="abbrev">MP3</span> et d&eacute;finit tout un ensemble de cl&eacute;s.
            </p>
            <div class="example"><a name="d0e13087"></a><h3 class="title">Exemple 5.14. Red&eacute;finition de <tt class="function">__setitem__</tt> dans <tt class="classname">MP3FileInfo</tt></h3><pre class="programlisting">
    <span class='pykeyword'>def</span><span class='pyclass'> __setitem__</span>(self, key, item):         <a name="fileinfo.specialmethods.3.1"></a><img src="http://web.archive.org/web/20090208123053im_/http://diveintopython.adrahon.org/images/callouts/1.png" alt="1" border="0" width="12" height="12">
        <span class='pykeyword'>if</span> key == <span class='pystring'>"name"</span> <span class='pykeyword'>and</span> item:            <a name="fileinfo.specialmethods.3.2"></a><img src="http://web.archive.org/web/20090208123053im_/http://diveintopython.adrahon.org/images/callouts/2.png" alt="2" border="0" width="12" height="12">
            self.__parse(item)                <a name="fileinfo.specialmethods.3.3"></a><img src="http://web.archive.org/web/20090208123053im_/http://diveintopython.adrahon.org/images/callouts/3.png" alt="3" border="0" width="12" height="12">
        FileInfo.__setitem__(self, key, item) <a name="fileinfo.specialmethods.3.4"></a><img src="http://web.archive.org/web/20090208123053im_/http://diveintopython.adrahon.org/images/callouts/4.png" alt="4" border="0" width="12" height="12"></pre><div class="calloutlist">
                  <table border="0" summary="Callout list">
                     <tr>
                        <td width="12" valign="top" align="left"><a href="http://web.archive.org/web/20090208123053/http://diveintopython.adrahon.org/object_oriented_framework/special_class_methods.html#fileinfo.specialmethods.3.1"><img src="http://web.archive.org/web/20090208123053im_/http://diveintopython.adrahon.org/images/callouts/1.png" alt="1" border="0" width="12" height="12"></a> 
                        </td>
                        <td valign="top" align="left">Notez que notre m&eacute;thode <tt class="function">__setitem__</tt> est
                                       d&eacute;finie exactement comme la m&eacute;thode h&eacute;rit&eacute;e. C'est important car
                                       <span class="application">Python</span> appellera la m&eacute;thode pour nous
                                       et qu'il attend un certain nombre d'arguments (techniquement
                                       parlant, les noms des arguments n'ont pas d'importance, seulement
                                       leur nombre).
                        </td>
                     </tr>
                     <tr>
                        <td width="12" valign="top" align="left"><a href="http://web.archive.org/web/20090208123053/http://diveintopython.adrahon.org/object_oriented_framework/special_class_methods.html#fileinfo.specialmethods.3.2"><img src="http://web.archive.org/web/20090208123053im_/http://diveintopython.adrahon.org/images/callouts/2.png" alt="2" border="0" width="12" height="12"></a> 
                        </td>
                        <td valign="top" align="left">Voici le point crucial de toute la classe
                                       <tt class="classname">MP3FileInfo</tt> : si nous assignons une valeur
                                       &agrave; la cl&eacute; <tt class="literal">name</tt>, alors nous voulons faire quelque
                                       chose en plus.
                        </td>
                     </tr>
                     <tr>
                        <td width="12" valign="top" align="left"><a href="http://web.archive.org/web/20090208123053/http://diveintopython.adrahon.org/object_oriented_framework/special_class_methods.html#fileinfo.specialmethods.3.3"><img src="http://web.archive.org/web/20090208123053im_/http://diveintopython.adrahon.org/images/callouts/3.png" alt="3" border="0" width="12" height="12"></a> 
                        </td>
                        <td valign="top" align="left">Le traitement suppl&eacute;mentaire que nous faisons pour les noms
                                       (<tt class="literal">name</tt>) est encapsul&eacute; dans la m&eacute;thode
                                       <tt class="function">__parse</tt>. C'est une autre m&eacute;thode de classe
                                       d&eacute;finie dans <tt class="classname">MP3FileInfo</tt> et quand nous
                                       l'appelons nous la qualifions avec <tt class="varname">self</tt>. Un
                                       appel &agrave; <tt class="function">__parse</tt> tout court chercherait une
                                       fonction ordinaire d&eacute;finie hors de la classe, ce qui n'est pas ce
                                       que nous voulons, appeler <tt class="function">self.__parse</tt>
                                       cherchera une m&eacute;thode d&eacute;finie dans la classe. Cela n'a rien de
                                       nouveau, c'est de la m&ecirc;me mani&egrave;re que l'on fait r&eacute;f&eacute;rence aux
                                       <a href="http://web.archive.org/web/20090208123053/http://diveintopython.adrahon.org/object_oriented_framework/userdict.html#fileinfo.userdict.normalmethods" title="Exemple 5.10. M&eacute;thodes ordinaires de UserDict">donn&eacute;es
                                          attributs</a>.
                        </td>
                     </tr>
                     <tr>
                        <td width="12" valign="top" align="left"><a href="http://web.archive.org/web/20090208123053/http://diveintopython.adrahon.org/object_oriented_framework/special_class_methods.html#fileinfo.specialmethods.3.4"><img src="http://web.archive.org/web/20090208123053im_/http://diveintopython.adrahon.org/images/callouts/4.png" alt="4" border="0" width="12" height="12"></a> 
                        </td>
                        <td valign="top" align="left">Apr&egrave;s avoir fait notre traitement suppl&eacute;mentaire, nous
                                       voulons appeler la m&eacute;thode h&eacute;rit&eacute;e. Rappelez-vous que
                                       <span class="application">Python</span> ne le fait jamais pour vous,
                                       vous devez le faire manuellement. Notez que nous appelons
                                       l'anc&ecirc;tre imm&eacute;diat, <tt class="classname">FileInfo</tt>, m&ecirc;me si il
                                       n'a pas de m&eacute;thode <tt class="function">__setitem__</tt>. Cela
                                       fonctionne parce que <span class="application">Python</span> va remonter
                                       la hierarchie d'heritage jusqu'&agrave; ce qu'il trouve une classe avec
                                       la m&eacute;thode que nous appelons, cette ligne finira donc par trouver
                                       et appeler la m&eacute;thode <tt class="function">__setitem__</tt> d&eacute;finie
                                       dans <tt class="classname">UserDict</tt>.
                        </td>
                     </tr>
                  </table>
               </div>
            </div><a name="tip.self.call"></a><table class="note" border="0" summary="">
               <tr>
                  <td rowspan="2" align="center" valign="top" width="1%"><img src="http://web.archive.org/web/20090208123053im_/http://diveintopython.adrahon.org/images/note.png" alt="NOTE" title="" width="24" height="24"></td>
               </tr>
               <tr>
                  <td colspan="2" align="left" valign="top" width="99%">Lorsque vous acc&eacute;dez &agrave; des donn&eacute;es attributs dans une classe,
                             vous devez qualifier le nom de l'attribut :
                             <tt class="literal">self.<i class="replaceable">attribute</i></tt>. Lorsque
                             vous appelez d'autres m&eacute;thodes dans une classe, vous devez qualifier
                             le nom de la m&eacute;thode :
                             <tt class="literal">self.<i class="replaceable">method</i></tt>.
                  </td>
               </tr>
            </table>
            <div class="example"><a name="fileinfo.specialmethods.setname"></a><h3 class="title">Exemple 5.15. Setting an <tt class="classname">MP3FileInfo</tt>'s <tt class="literal">name</tt></h3><pre class="screen"><tt class="prompt">&gt;&gt;&gt; </tt><span class="userinput"><span class='pykeyword'>import</span> fileinfo</span>
<tt class="prompt">&gt;&gt;&gt; </tt><span class="userinput">mp3file = fileinfo.MP3FileInfo()</span>                   <a name="fileinfo.specialmethods.4.1"></a><img src="http://web.archive.org/web/20090208123053im_/http://diveintopython.adrahon.org/images/callouts/1.png" alt="1" border="0" width="12" height="12">
<tt class="prompt">&gt;&gt;&gt; </tt><span class="userinput">mp3file</span>
<span class="computeroutput">{'name':None}</span>
<tt class="prompt">&gt;&gt;&gt; </tt><span class="userinput">mp3file[<span class='pystring'>"name"</span>] = <span class='pystring'>"/music/_singles/kairo.mp3"</span></span>      <a name="fileinfo.specialmethods.4.2"></a><img src="http://web.archive.org/web/20090208123053im_/http://diveintopython.adrahon.org/images/callouts/2.png" alt="2" border="0" width="12" height="12">
<tt class="prompt">&gt;&gt;&gt; </tt><span class="userinput">mp3file</span>
<span class="computeroutput">{'album': 'Rave Mix', 'artist': '***DJ MARY-JANE***', 'genre': 31,
'title': 'KAIRO****THE BEST GOA', 'name': '/music/_singles/kairo.mp3',
'year': '2000', 'comment': 'http://mp3.com/DJMARYJANE'}</span>
<tt class="prompt">&gt;&gt;&gt; </tt><span class="userinput">mp3file[<span class='pystring'>"name"</span>] = <span class='pystring'>"/music/_singles/sidewinder.mp3"</span></span> <a name="fileinfo.specialmethods.4.3"></a><img src="http://web.archive.org/web/20090208123053im_/http://diveintopython.adrahon.org/images/callouts/3.png" alt="3" border="0" width="12" height="12">
<tt class="prompt">&gt;&gt;&gt; </tt><span class="userinput">mp3file</span>
<span class="computeroutput">{'album': '', 'artist': 'The Cynic Project', 'genre': 18, 'title': 'Sidewinder', 
'name': '/music/_singles/sidewinder.mp3', 'year': '2000', 
'comment': 'http://mp3.com/cynicproject'}</span></pre><div class="calloutlist">
                  <table border="0" summary="Callout list">
                     <tr>
                        <td width="12" valign="top" align="left"><a href="http://web.archive.org/web/20090208123053/http://diveintopython.adrahon.org/object_oriented_framework/special_class_methods.html#fileinfo.specialmethods.4.1"><img src="http://web.archive.org/web/20090208123053im_/http://diveintopython.adrahon.org/images/callouts/1.png" alt="1" border="0" width="12" height="12"></a> 
                        </td>
                        <td valign="top" align="left">D'abord nous cr&eacute;ons une instance de
                                       <tt class="classname">MP3FileInfo</tt> sans lui passer de nom de
                                       fichier (nous pouvons le faire parce que l'argument
                                       <tt class="varname">filename</tt> de la m&eacute;thode
                                       <tt class="function">__init__</tt> est <a href="http://web.archive.org/web/20090208123053/http://diveintopython.adrahon.org/power_of_introspection/optional_arguments.html" title="4.2. Arguments optionnels et nomm&eacute;s">optionnel</a>). Comme
                                       <tt class="classname">MP3FileInfo</tt> n'a pas de m&eacute;thode<tt class="function">
                                          __init__</tt> propre, <span class="application">Python</span>
                                       remonte la hierarchie d'h&eacute;ritage et trouve la m&eacute;thode
                                       <tt class="function">__init__</tt> de <tt class="classname">FileInfo</tt>.
                                       Cette m&eacute;thode <tt class="function">__init__</tt> appelle manuellement
                                       la m&eacute;thode <tt class="function">__init__</tt> de
                                       <tt class="classname">UserDict</tt> puis d&eacute;finit la cl&eacute;
                                       <tt class="literal">name</tt> &agrave; la valeur de
                                       <tt class="varname">filename</tt>, qui est <tt class="literal">None</tt>
                                       puisque nous n'avons pass&eacute; aucun nom de fichier. Donc
                                       <tt class="varname">mp3file</tt> est au d&eacute;but un dictionnaire avec une
                                       cl&eacute;, <tt class="literal">name</tt>, dont la valeur est
                                       <tt class="literal">None</tt>.
                        </td>
                     </tr>
                     <tr>
                        <td width="12" valign="top" align="left"><a href="http://web.archive.org/web/20090208123053/http://diveintopython.adrahon.org/object_oriented_framework/special_class_methods.html#fileinfo.specialmethods.4.2"><img src="http://web.archive.org/web/20090208123053im_/http://diveintopython.adrahon.org/images/callouts/2.png" alt="2" border="0" width="12" height="12"></a> 
                        </td>
                        <td valign="top" align="left">Maintenant les choses s&eacute;rieuses commencent. D&eacute;finir la cl&eacute;
                                       <tt class="literal">name</tt> de <tt class="varname">mp3file</tt> d&eacute;clenche la
                                       m&eacute;thode <tt class="function">__setitem__</tt> de
                                       <tt class="classname">MP3FileInfo</tt> (pas
                                       <tt class="classname">UserDict</tt>), qui remarque que nous
                                       d&eacute;finissons la cl&eacute; <tt class="literal">name</tt> avec une valeur r&eacute;elle
                                       et appelle <tt class="function">self.__parse</tt>. Bien que nous
                                       n'ayons pas encore vu le contenu de la m&eacute;thode
                                       <tt class="function">__parse</tt>, vous pouvez voir &agrave; partir de la
                                       sortie qu'elle d&eacute;finit plusieurs autres cl&eacute;s :
                                       <tt class="literal">album</tt>, <tt class="literal">artist</tt>,
                                       <tt class="literal">genre</tt>, <tt class="literal">title</tt>,
                                       <tt class="literal">year</tt> et <tt class="literal">comment</tt>.
                        </td>
                     </tr>
                     <tr>
                        <td width="12" valign="top" align="left"><a href="http://web.archive.org/web/20090208123053/http://diveintopython.adrahon.org/object_oriented_framework/special_class_methods.html#fileinfo.specialmethods.4.3"><img src="http://web.archive.org/web/20090208123053im_/http://diveintopython.adrahon.org/images/callouts/3.png" alt="3" border="0" width="12" height="12"></a> 
                        </td>
                        <td valign="top" align="left">Modifier la cl&eacute;<tt class="literal"> name</tt> recommencera le m&ecirc;me
                                       processus : <span class="application">Python</span> appelle
                                       <tt class="function">__setitem__</tt>, qui appelle
                                       <tt class="function">self.__parse</tt>, qui d&eacute;finit toutes les autres
                                       cl&eacute;s.
                        </td>
                     </tr>
                  </table>
               </div>
            </div>
         </div>
      </div>
      <table class="Footer" width="100%" border="0" cellpadding="0" cellspacing="0" summary="">
         <tr>
            <td width="35%" align="left"><br><a class="NavigationArrow" href="http://web.archive.org/web/20090208123053/http://diveintopython.adrahon.org/object_oriented_framework/userdict.html">&lt;&lt;&nbsp;UserDict : une classe enveloppe</a></td>
            <td width="30%" align="center"><br>&nbsp;<span class="divider">|</span>&nbsp;<a href="http://web.archive.org/web/20090208123053/http://diveintopython.adrahon.org/object_oriented_framework/index.html#fileinfo.divein" title="5.1. Plonger">1</a> <span class="divider">|</span> <a href="http://web.archive.org/web/20090208123053/http://diveintopython.adrahon.org/object_oriented_framework/importing_modules.html" title="5.2. Importation de modules avec from module import">2</a> <span class="divider">|</span> <a href="http://web.archive.org/web/20090208123053/http://diveintopython.adrahon.org/object_oriented_framework/defining_classes.html" title="5.3. D&eacute;finition de classes">3</a> <span class="divider">|</span> <a href="http://web.archive.org/web/20090208123053/http://diveintopython.adrahon.org/object_oriented_framework/instantiating_classes.html" title="5.4. Instantiation de classes">4</a> <span class="divider">|</span> <a href="http://web.archive.org/web/20090208123053/http://diveintopython.adrahon.org/object_oriented_framework/userdict.html" title="5.5. UserDict : une classe enveloppe">5</a> <span class="divider">|</span> <span class="thispage">6</span> <span class="divider">|</span> <a href="http://web.archive.org/web/20090208123053/http://diveintopython.adrahon.org/object_oriented_framework/special_class_methods2.html" title="5.7. M&eacute;thodes sp&eacute;ciales avanc&eacute;es">7</a> <span class="divider">|</span> <a href="http://web.archive.org/web/20090208123053/http://diveintopython.adrahon.org/object_oriented_framework/class_attributes.html" title="5.8. Attributs de classe">8</a> <span class="divider">|</span> <a href="http://web.archive.org/web/20090208123053/http://diveintopython.adrahon.org/object_oriented_framework/private_functions.html" title="5.9. Fonctions priv&eacute;es">9</a> <span class="divider">|</span> <a href="http://web.archive.org/web/20090208123053/http://diveintopython.adrahon.org/object_oriented_framework/summary.html" title="5.10. R&eacute;sum&eacute;">10</a>&nbsp;<span class="divider">|</span>&nbsp;
            </td>
            <td width="35%" align="right"><br><a class="NavigationArrow" href="http://web.archive.org/web/20090208123053/http://diveintopython.adrahon.org/object_oriented_framework/special_class_methods2.html">M&eacute;thodes sp&eacute;ciales avanc&eacute;es&nbsp;&gt;&gt;</a></td>
         </tr>
         <tr>
            <td colspan="3"><br></td>
         </tr>
      </table>
      <div class="Footer">
         <p class="copyright">Copyright &copy; 2000, 2001, 2002, 2003, 2004 <a href="mailto:mark@diveintopython.org">Mark Pilgrim</a></p>
         <p class="copyright">Copyright &copy; 2001 <a href="mailto:xavier@defrang.com">Xavier Defrang</a></p>
         <p class="copyright">Copyright &copy; 2004 <a href="mailto:python@kantoche.org">Jean-Pierre Gay</a></p>
         <p class="copyright">Copyright &copy; 2004, 2006 <a href="mailto:python@adrahon.org">Alexandre Drahon</a></p>
      </div>
   </body>
</html>




<!--
     FILE ARCHIVED ON 12:30:53 Feb 8, 2009 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 19:25:02 Nov 4, 2011.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
